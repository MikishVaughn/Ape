@inject Ape.Services.SecureConfigurationService ConfigService
@{
    ViewData["Title"] = "Welcome";
    string siteName = await ConfigService.GetCredentialAsync("SITE_NAME") ?? "Ape";
}

<style>
    .logo {
        image-rendering: pixelated;
        max-height: 200px;  /* Large screens */
    }

    @@media (max-width: 576px) {
        .logo {
            max-height: 120px;  /* Phone screens */
        }
    }

    .bananna {
        image-rendering: pixelated;
        max-height: 128px; /* Large screens */
    }

    .banannaphone {
        display: none;
    }

    @@media (max-width: 576px) {
        .banannaphone {
            display: inline;
            max-height: 116px; /* Phone screens */
        }
    }

    @@media (max-width: 576px) {
        .bananna {
            display: none;
            max-height: 72px; /* Phone screens */
        }
    }

    .vsicon {
        image-rendering: pixelated;
        max-height: 36px; /* Large screens */
    }

    @@media (max-width: 576px) {
        .vsicon {            
            max-height: 18px; /* Phone screens */
        }
    }

    /* Pulsating button style */
    .btn-pulse {
        display: inline-block;
        background: rgba(0, 0, 0, 0.7);
        border: 1px solid rgba(255, 255, 255, 0.3);
        color: white !important;
        padding: 0.5rem 1.25rem;
        border-radius: 20px;
        font-weight: 600;
        text-decoration: none !important;
        transition: all 0.3s ease;
        animation: pulse 2s infinite;
    }

    .btn-pulse:hover {
        background: rgba(0, 0, 0, 0.85);
        transform: translateY(-2px);
        color: white !important;
        animation: none;
    }

    @@keyframes pulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.05); }
        100% { transform: scale(1); }
    }
</style>

<!-- Hero Section -->
<div class="container mt-0 mb-4">
    <div class="row">
        <div class="col-12 col-md-8 text-center text-md-end ">
            <h1 class="display-5 fw-bold mb-2">Welcome to the<br />Ape framework for</h1>            
        </div>
        <div class="col-12 col-md-4 text-start">
            <img class="bananna" src="~/images/site/bananna.png" />
        </div>
    </div>
    

    <div class="text-center mb-2">
        <h2>
            <img class="text-center vsicon" src="~/images/site/vsicon.webp" /> Visual Studio
        </h2>
        <a href="https://github.com/MikishVaughn/Ape" target="_blank" rel="noopener noreferrer"
           class="btn-pulse">
            <i class="bi bi-github me-2"></i>View on GitHub
        </a>
    </div>

    <div class="container row align-items-center">

        <div class="col-12 col-md-4 text-lg-end text-center mb-2 mb-md-0">
            <img src="~/images/site/Logo.png" alt="Ape mascot" class="img-fluid logo" />
            <img class="banannaphone" src="~/images/site/bananna.png" />
        </div>
        
        <div class="col-12 col-md-8" style="max-width: 620px;">
            <img class="w-100" src="~/images/site/mvc.png" />
            <p class="lead text-secondary mb-2">
                A production-ready ASP.NET Core MVC framework with comprehensive authentication, 
                role-based access control, document management, and administrative tools. This framework 
                provides a solid foundation for building secure, enterprise-grade web applications.
            </p>
            
            <div class="d-flex flex-wrap gap-2">
                <span class="badge rounded-pill bg-dark px-3 py-2">C#</span>
                <span class="badge rounded-pill bg-dark px-3 py-2">.NET Core</span>
                <span class="badge rounded-pill bg-dark px-3 py-2">MVC</span>
                <span class="badge rounded-pill bg-dark px-3 py-2">Entity Framework</span>
                <span class="badge rounded-pill bg-dark px-3 py-2">SQL Server</span>
                <span class="badge rounded-pill bg-dark px-3 py-2">Identity</span>
            </div>
        </div>
    </div>
</div>

<!-- Features Section -->
<div class="rounded-3 bg-dark py-2 mx-auto" style="max-width: 1000px;">
    <div class="container">
        <h2 class="text-white text-center mb-2">Platform Features</h2>
        <p class="text-center text-secondary mb-4">Built-in tools for managing members, content, and communications</p>

        <div class="row g-4">

            <!-- Identity & Security -->
            <div class="col-12 col-sm-6 col-lg-4">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body">
                        <div>
                            <i class="bi bi-shield-lock fs-2 text-primary"></i>
                        </div>
                        <h5 class="card-title">Identity &amp; Security</h5>
                        <p class="card-text text-secondary">
                            ASP.NET Identity with Entity Framework, email verification, and secure account management including two factor authorization.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Role Management -->
            <div class="col-12 col-sm-6 col-lg-4">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body">
                        <div>
                            <i class="bi bi-people fs-2 text-primary"></i>
                        </div>
                        <h5 class="card-title">Role Management</h5>
                        <p class="card-text text-secondary">
                            Role-driven access control with Admin and Member roles. Manage user assignments from the admin panel.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Email System -->
            <div class="col-12 col-sm-6 col-lg-4">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body">
                        <div>
                            <i class="bi bi-envelope fs-2 text-primary"></i>
                        </div>
                        <h5 class="card-title">Email System</h5>
                        <p class="card-text text-secondary">
                            Azure Communication Services with SMTP fallback. Configured through the System Credentials page for outbound email needs.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Contact Form -->
            <div class="col-12 col-sm-6 col-lg-4">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body">
                        <div>
                            <i class="bi bi-chat-dots fs-2 text-primary"></i>
                        </div>
                        <h5 class="card-title">Contact Form</h5>
                        <p class="card-text text-secondary">
                            Public contact form with admin-configurable recipient addresses, and email logging with triple-layer SPAM protection (honeypot fields, JavaScript token, timing validation).
                        </p>
                    </div>
                </div>
            </div>

            <!-- Document Library -->
            <div class="col-12 col-sm-6 col-lg-4">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body">
                        <div>
                            <i class="bi bi-file-earmark-pdf fs-2 text-primary"></i>
                        </div>
                        <h5 class="card-title">Document Library</h5>
                        <p class="card-text text-secondary">
                            Hierarchical PDF management with folder-based organization. Supports Admin-only and Member-visible access levels.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Image Gallery -->
            <div class="col-12 col-sm-6 col-lg-4">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body">
                        <div>
                            <i class="bi bi-images fs-2 text-primary"></i>
                        </div>
                        <h5 class="card-title">Image Gallery</h5>
                        <p class="card-text text-secondary">
                            Admin-editable picture gallery with categorized albums and image management.
                        </p>
                    </div>
                </div>
            </div>

            <!-- More Links -->
            <div class="col-12 col-sm-6 col-lg-4">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body">
                        <div>
                            <i class="bi bi-link-45deg fs-2 text-primary"></i>
                        </div>
                        <h5 class="card-title">More Links</h5>
                        <p class="card-text text-secondary">
                            Organized link categories with drag-and-drop reordering. Admin-only and public visibility options.
                        </p>
                    </div>
                </div>
            </div>

            <!-- System Credentials -->
            <div class="col-12 col-sm-6 col-lg-4">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body">
                        <div>
                            <i class="bi bi-key fs-2 text-primary"></i>
                        </div>
                        <h5 class="card-title">System Credentials</h5>
                        <p class="card-text text-secondary">
                            Encrypted credential storage for API keys, SMTP settings, and service configuration with audit logging.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Active Users -->
            <div class="col-12 col-sm-6 col-lg-4">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body">
                        <div>
                            <i class="bi bi-activity fs-2 text-primary"></i>
                        </div>
                        <h5 class="card-title">Active Members</h5>
                        <p class="card-text text-secondary">
                            Monitor currently active members and recent login activity from the admin dashboard.
                        </p>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
